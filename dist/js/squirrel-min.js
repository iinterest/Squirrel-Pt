/*!
 * Squirrel v0.9.5 (http://hisquirrel.com)
 * Copyright 2011-2014-05-12 10:37:36 iinterest
 * Licensed under MIT (https://github.com/iinterest/Squirrel-3/blob/master/LICENSE.md)
 */
var SQ={namespace:function(a){var b,c=a.split("."),d=SQ;if("SQ"!==c[0])return!1;for(c=c.slice(1),b=0;b<c.length;b+=1)d[c[b]]={},d=d[c[b]];return d},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isNumber:function(a){return"[object Number]"===Object.prototype.toString.call(a)},isBoolean:function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},isNull:function(a){return"[object Null]"===Object.prototype.toString.call(a)},isUndefined:function(a){return"[object Undefined]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isObject:function(a){return"[object Object]"===Object.prototype.toString.call(a)},extend:function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.uber=b.prototype}};SQ.store={cookie:{_getValue:function(a){var b=document.cookie,c=-1===b.indexOf(";",a)?b.length:b.indexOf(";",a);return decodeURIComponent(b.substring(a,c))},get:function(a){for(var b=this,c=document.cookie,d=a+"=",e=d.length,f=c.length,g=0;f>g;){var h=g+e;if(c.substring(g,h)===d)return b._getValue(h);if(g=c.indexOf(" ",g)+1,0===g)break}return null},set:function(a,b){var c=new Date,d=c.getFullYear(),e=c.getMonth(),f=c.getDate()+1,g=arguments,h=arguments.length,i=h>2?g[2]:null,j=h>3?g[3]:null,k=h>4?g[4]:null,l=h>5?g[5]:!1;if(i)switch(i){case"day":c.setYear(d),c.setMonth(e),c.setDate(f),c.setHours(8),c.setMinutes(0),c.setSeconds(0);break;case"week":var m=6048e5;c.setTime(c.getTime()+m);break;default:c.setTime(c.getTime()+(1e3*i+288e5))}document.cookie=a+"="+encodeURIComponent(b)+(null===i?"":"; expires="+c.toGMTString())+(null===j?"":"; path="+j)+(null===k?"":"; domain="+k)+(l===!0?"; secure":"")},del:function(a){var b=this,c=new Date;c.setTime(c.getTime()-1);var d=b.get(a);document.cookie=a+"="+d+"; expires="+c.toGMTString()}},localStorage:{hasLoaclStorage:function(){return"localStorage"in window&&null!==window.localStorage?!0:void 0}(),get:function(a,b){var c,d,e,f=this,g=(new Date).getTime();return a&&f.hasLoaclStorage?(c=JSON.parse(localStorage.getItem(a)),c?(d=c.time,e=c.dataStore,b&&(e=1e3*parseInt(b,10)*60>g-parseInt(d,10)?e:!1),e):void 0):void 0},set:function(a,b){var c=this,d={},e=(new Date).getTime();a&&b&&c.hasLoaclStorage&&(d.dataStore=b,d.time=e,d=JSON.stringify(d),localStorage.setItem(a,d))},del:function(a){var b=this;a&&b.hasLoaclStorage&&localStorage.removeItem(a)},clearAll:function(){var a=this;a.hasLoaclStorage&&localStorage.clear()}}},SQ.ua=function(){var a,b={},c=navigator.userAgent;return b.os={},b.browser={},/Android/i.test(c)?(b.os.name="android",b.os.version=c.match(/(Android)\s([\d.]+)/)[2]):/Adr/i.test(c)?(b.os.name="android",b.os.version=c.match(/(Adr)\s([\d.]+)/)[2]):/iPod/i.test(c)?(b.os.name="ios",b.os.version=c.match(/OS\s([\d_]+)/)[1].replace(/_/g,"."),b.device="ipod"):/iPhone/i.test(c)?(b.os.name="ios",b.os.version=c.match(/(iPhone\sOS)\s([\d_]+)/)[2].replace(/_/g,"."),b.device="iphone"):/iPad/i.test(c)&&(b.os.name="ios",b.os.version=c.match(/OS\s([\d_]+)/)[1].replace(/_/g,"."),b.device="ipad"),a=c.match(/AppleWebKit\/([\d.]*)/),a&&a[1]&&(b.browser.core="webkit",b.browser.version=a[1],/Chrome/i.test(c)?b.browser.shell="chrome":/Safari/i.test(c)?b.browser.shell="safari":/Opera/i.test(c)&&(b.browser.shell="opera")),/UCBrowser/i.test(c)?(a=c.match(/(UCBrowser)\/([\d.]+)/),b.browser.shell="ucweb",b.browser.version=a[2]):/UCWEB/i.test(c)?(a=c.match(/(UCWEB)([\d.]+)/),b.browser.shell="ucweb",b.browser.version=a[2]):/UC/i.test(c)&&(b.browser.shell="ucweb",b.browser.version="8.x"),"ucweb"===b.browser.shell&&/UCWEB\/2\.0/i.test(c)&&(b.browser.module="swift"),b.browser.version&&(b.browser.version=parseFloat(b.browser.version,10)),b}(),SQ.util={generate:{uniqueId:function(){},randomInt:function(a,b){return"number"==typeof a&&"number"==typeof b&&b>a?parseInt(Math.random()*(b-a+1)+a,10):!1},randomArr:function(a){return a.sort(function(){return Math.random()-.5})}},string:{trim:function(a){return a.replace(/^\s+|\s+$/g,"")}},dateToString:function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds();10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),10>f&&(f="0"+f),10>g&&(g="0"+g);var h=b+"-"+c+"-"+d+" "+e+":"+f+":"+g;return h},goTop:function(a){a.preventDefault(),window.scrollTo(0,0)},goBack:function(a){a.preventDefault(),history.back()}},function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-button",d={MODE:"menu",EVE_EVENT_TYPE:"click"};b.prototype={construtor:"Button",init:function(){var b=this;b.$element=a(b.element),b.elementClassName=b.settings.selector.slice(1),"menu"===b.settings.MODE&&b.menu()},setState:function(a){var b=this;"active"===a&&b.$element.addClass("active"),"init"===a&&b.$element.removeClass("active")},menu:function(){function b(){if(h.hide(),g.removeClass("active"),e.settings.ANIMATE){var a=0===e.settings.ANIMATE.indexOf(".")?e.settings.ANIMATE.slice(1):e.settings.ANIMATE;i.addClass("animated "+a)}i.show(),e.setState("active"),f.on("click.sq.button.menu",d)}function c(){i.hide(),e.setState("init"),f.off("click.sq.button.menu",d)}function d(b){a(b.target).hasClass(e.elementClassName)||c()}var e=this,f=a(document),g=a(e.settings.selector),h=g.find(".dropdown-menu"),i=e.$element.find(".dropdown-menu");e.$element.on(e.settings.EVE_EVENT_TYPE+".sq.button.menu",function(){e.$element.hasClass("active")?c():b()})}},a.fn.button=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1;return d=d||{},d.selector=this.selector,this.each(function(){g?a.data(this,c)||a.data(this,c,new b(this,d)):f&&(a(this).data(c)||(e=new b(this,d),a(this).data(c,"initialized")))}),this}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-fixed",d={ARRY_FIXED_POSITION:[0,0,"auto",0],NUM_ZINDEX:101,PLACEHOLD:!1};b.prototype={construtor:"Fixed",scrollTimer:0,scrollDelay:150,init:function(){var b=this,d=a("[data-"+c+"]").length;b.$element=a(b.element),b.fixedInFun=b.settings.fixedIn,b.fixedOutFun=b.settings.fixedOut,b.$element.each(function(e){var f={id:c+(e+d),self:this,$self:a(this),fixed:!1};b.settings.NUM_TRIGGER_POSITION&&SQ.isNumber(b.settings.NUM_TRIGGER_POSITION)?f.triggerPosTop=b.settings.NUM_TRIGGER_POSITION:(b.settings.PLACEHOLD&&b._setPlaceholder(f),f.self.getBoundingClientRect()?f.triggerPosTop=f.self.getBoundingClientRect().top+window.scrollY:console.warn("Not Support getBoundingClientRect"),0===f.self.triggerPosTop&&b._setFixed(f)),b._trigger(f)})},_setPlaceholder:function(b){var c=a("<div class='sq-fixed-placeholder' id='"+b.id+"'></div>").css({display:"none",width:b.$self.width(),height:b.$self.height(),background:b.$self.css("background")});c.insertAfter(b.$self)},_trigger:function(b){function c(){var a=window.scrollY;a>=b.triggerPosTop&&!b.fixed?e._setFixed(b):a<b.triggerPosTop&&b.fixed&&e._removeFixed(b),window.requestAnimationFrame(c)}function d(){function c(){var a=window.scrollY;a>=b.triggerPosTop&&!b.$self.hasClass("sq-fixed")?e._setFixed(b):a<b.triggerPosTop&&b.$self.hasClass("sq-fixed")&&e._removeFixed(b)}var d="android-ios";-1!==d.indexOf(SQ.ua.os.name)?a(window).on("touchstart",function(){setTimeout(function(){c()},150)}):a(window).on("scroll",function(){e.scrollTimer||(e.scrollTimer=setTimeout(function(){c(),e.scrollTimer=0},e.scrollDelay))})}var e=this;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,window.requestAnimationFrame?window.requestAnimationFrame(c):d()},_setFixed:function(b){var c=this,d=c.settings.ARRY_FIXED_POSITION,e=a("#"+b.id);if(b.$self.css({position:"fixed",top:d[0],right:d[1],bottom:d[2],left:d[3],"z-index":c.settings.NUM_ZINDEX}),b.fixed=!0,c.settings.PLACEHOLD&&e.length&&e.show(),c.settings.ANIMATE){var f=0===c.settings.ANIMATE.indexOf(".")?c.settings.ANIMATE.slice(1):c.settings.ANIMATE;b.$self.addClass("animated "+f)}c.fixedInFun&&c.fixedInFun()},_removeFixed:function(b){var c=this,d=a("#"+b.id);b.$self.attr("style",""),b.fixed=!1,c.settings.PLACEHOLD&&d.length&&d.hide(),c.fixedOutFun&&c.fixedOutFun()}},a.fn.fixed=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1;return d=d||{},d.selector=this.selector,this.each(function(){g?a.data(this,c)||a.data(this,c,new b(this,d)):f&&(a(this).data(c)||(e=new b(this,d),a(this).data(c,"initialized")))}),this}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-lazyload",d={MODE:"image",NUM_THRESHOLD:350};b.prototype={construtor:"Lazyload",scrollTimer:0,scrollDelay:150,init:function(){var b=this;b.$element=a(b.element),b.elementClassName=b.settings.selector.slice(1),b._verify()&&(b._bindLazyEvent(),b._trigger(),b._loadImg())},_verify:function(){return!0},_bindLazyEvent:function(){var b=this;b.$element.one("appear",function(){var c=this,d=a(c),e=d.attr("data-img");e&&(d.addClass("unvisible").attr("src",e).removeAttr("data-img").removeClass(b.elementClassName),d.on("load",function(){if(b.settings.ANIMATE){var a=0===b.settings.ANIMATE.indexOf(".")?b.settings.ANIMATE.slice(1):b.settings.ANIMATE;d.addClass("animated "+a).removeClass("unvisible")}}),d.on("error",function(){b.settings.IMG_PLACEHOLDER&&a(this).attr("src",b.settings.IMG_PLACEHOLDER).off("error")}))})},_trigger:function(){var b=this;a(window).on("scroll",function(){b.scrollTimer||(b.scrollTimer=setTimeout(function(){"image"===b.settings.MODE&&b._loadImg(),b.scrollTimer=0},b.scrollDelay))})},_isInDisplayArea:function(b){var c=this;if(b.getBoundingClientRect()){var d=b.getBoundingClientRect();return d.top>0-c.settings.NUM_THRESHOLD&&d.top-c.settings.NUM_THRESHOLD<window.innerHeight}var e=a(b),f=window.innerHeight,g=window.pageYOffset,h=e.offset().top;return h>=g&&h<=g+f+c.settings.NUM_THRESHOLD},_loadImg:function(){var b=this;b.$element.each(function(c,d){var e=a(d);b.settings.IMG_PLACEHOLDER&&e.hasClass(b.elementClassName)&&(e.attr("src",b.settings.IMG_PLACEHOLDER),e.on("error",function(){a(this).attr("src",b.settings.IMG_PLACEHOLDER).off("error")})),b._isInDisplayArea(d)&&e.trigger("appear")})}},a.fn.lazyload=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1;return d=d||{},d.selector=this.selector,this.length||console.warn("SQ.lazyload: 未找到"+this.selector+"元素"),this.each(function(){g?a.data(this,c)||a.data(this,c,new b(this,d)):f&&(a(this).data(c)||(e=new b(this,d),a(this).data(c,"initialized")))}),this}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},e,c),this._defaults=e,this.init()}var c="sq-loadmore",d=0,e={API:"",CSS_STATE_BAR:".sq-loadmore-state",EVE_EVENT_TYPE:"scroll",NUM_START_PAGE_INDEX:0,NUM_LOAD_POSITION:.5,NUM_SCROLL_MAX_PAGE:3,NUM_SUCCESS_CODE:200,NUM_NO_MORE_CODE:900,NUM_EXPIRES:15,TXT_LOADING_TIP:"正在加载请稍后...",TXT_INIT_TIP:"滑动加载更多内容",TXT_CLICK_TIP:"点击加载更多",TXT_LOADED_ERROR:"加载失败，请点击重试",MODE:"simple",XHR_METHOD:"POST",XHR_TIMEOUT:5e3,LOCAL_DATA:!1};b.prototype={construtor:"LoadMore",scrollTimer:0,scrollDelay:200,init:function(){var b=this,c={},e=d,f=window.innerHeight||a(window).height(),g=b._reload();b.$win=a(window),b.$triggerTarget=b.$win,b.$element=a(b.element),b.maxPage=b.settings.NUM_SCROLL_MAX_PAGE+b.settings.NUM_START_PAGE_INDEX,b.initStyle=0===b.settings.CSS_STATE_BAR.indexOf(".")?b.settings.CSS_STATE_BAR.slice(1):b.settings.CSS_STATE_BAR,b.beforeLoadFun=b.settings.beforeLoad,b.loadingFun=b.settings.loading,b.loadFun=b.settings.loaded,b.loadErrorFun=b.settings.loadError,b.scrollEndFun=b.settings.scrollEnd,c.$element=b.$element,g.isReload?(c.$stateBar=g.$stateBar,c.$stateTxt=c.$stateBar.find(".state-txt")):(c.$stateBar=a('<div class="sq-loadMore-state"><i class="state-icon"></i><span class="state-txt"></span></div>'),c.$stateTxt=c.$stateBar.find(".state-txt"),c.$stateBar.addClass(b.initStyle),c.$stateTxt.text(b.settings.TXT_INIT_TIP),c.$element.css({"min-height":f-40}).after(c.$stateBar)),c.api=b.settings.API,c.index=e,c.page=g.page||b.settings.NUM_START_PAGE_INDEX,c.currentState=g.page||"none",c.currentEventType=g.event||b.settings.EVE_EVENT_TYPE,"click"===c.currentEventType&&b._changeEvent("click",c),g.top>0&&a("body").scrollTop(g.top),b._verify(c)&&(b._setNewTriggerPoint(c),b._bind(c.currentEventType,c))},_reload:function(){var b=this,d=a(b.settings.selector),e={};if(a(window).off("scroll.sq"),d.data(c)){var f=d.next(".sq-loadMore-state");e.isReload=!0,e.page=f.data("page"),e.event=f.data("event"),e.top=parseInt(f.data("top"),10),e.currentState=f.data("currentState"),e.$stateBar=f}return e},_verify:function(a){var b=this;return 0===b.$triggerTarget.length||0===a.$element.length?(console.warn("SQ.loadmore: Self["+a.index+"]缺少 Dom 元素"),!1):a.api?!0:(console.warn("SQ.loadmore: Self["+a.index+"]缺少 API 参数"),!1)},_bind:function(a,b){var c=this;c.$triggerTarget.on(a+".sq.loadmore"+b.id,function(){c._trigger(b)}),c.$win.on("scroll.sq.loadmore.setTop",function(){c._setTopPosition(b)})},_trigger:function(a){var b=this,c=a.$stateBar.hasClass("loading"),d=a.$stateBar.hasClass("no-more");c||d||("scroll"===a.currentEventType?(a.page<b.maxPage&&!b.scrollTimer&&(b.scrollTimer=setTimeout(function(){b.$triggerTarget.scrollTop()>=b.triggerHeight&&!c&&!d&&b._load(b._spliceApi(a),a),b.scrollTimer=0},b.scrollDelay)),a.page===b.maxPage&&b._changeState("scrollEnd",a)):"click"===a.currentEventType&&b._load(b._spliceApi(a),a))},_setNewTriggerPoint:function(b){if("click"!==b.currentEventType){var c=this,d=c._getHeight(document.querySelector("body"))||a("body").height(),e=window.innerHeight||a(window).height();c.triggerHeight=(d-e)*c.settings.NUM_LOAD_POSITION,c.settings.NUM_LOAD_POSITION<.8&&(c.settings.NUM_LOAD_POSITION+=.15555)}},_changeEvent:function(a,b){var c=this;c.$triggerTarget.off("scroll.sq.loadmore"+b.id),b.currentEventType=a,b.$stateBar.data("event",a),"click"===a?(c.$triggerTarget=b.$stateBar,c._bind(a,b),b.$stateBar.addClass("click").show()):"scroll"===a&&(c.$triggerTarget=c.$win,c._bind(a,b))},_changeState:function(a,b){var c=this;if(b.currentState!==a)switch(b.currentState=a,b.$stateBar.data("currentState",a),a){case"loading":b.$stateTxt.text(c.settings.TXT_LOADING_TIP),b.$stateBar.removeClass("loading").addClass("loading").show(),c.loadingFun&&c.loadingFun(b.index);break;case"success":b.$stateBar.removeClass("loading"),"loadError"===b.currentState&&(b.currentState=void 0),"scroll"===b.currentEventType&&b.$stateTxt.text(c.settings.TXT_INIT_TIP),"click"===b.currentEventType&&b.$stateTxt.text(c.settings.TXT_CLICK_TIP),b.page+=1,b.$stateBar.data("page",b.page);break;case"scrollEnd":c._changeEvent("click",b),b.$stateTxt.text(c.settings.TXT_CLICK_TIP),c.scrollEndFun&&c.scrollEndFun(b.index);break;case"noMore":b.$stateBar.addClass("no-more").hide();break;case"loadError":b.currentState="loadError",c._changeEvent("click",b),b.$stateTxt.text(c.settings.TXT_LOADED_ERROR),b.$stateBar.removeClass("loading"),c.loadErrorFun&&c.loadErrorFun(b.index)}},_load:function(b,c){var d=this;if(d._changeState("loading",c),!d.beforeLoadFun||d.beforeLoadFun()){if(d.settings.LOCAL_DATA){var e=SQ.store.localStorage.get(b,d.settings.NUM_EXPIRES);if(e=SQ.isString(e)?a.parseJSON(e):e)return void d._loadedResult(e,c)}b&&0!==b.length&&(d.xhr&&d.xhr.abort(),d.xhr=a.ajax({type:d.settings.XHR_METHOD,url:b,timeout:d.settings.XHR_TIMEOUT,success:function(a){d._loadedResult(a,c),d.settings.LOCAL_DATA&&SQ.store.localStorage.set(b,a)},error:function(){d._changeState("loadError",c)}}))}},_loadedResult:function(b,c){var d,e,f=this;if(!b)return void f._changeState("loadError",c);if(d=SQ.isString(b)?a.parseJSON(b):b,"simple"===f.settings.MODE)switch(e=parseInt(d.code,10)){case f.settings.NUM_SUCCESS_CODE:f._changeState("success",c);break;case f.settings.NUM_NO_MORE_CODE:f._changeState("noMore",c);break;default:return void f._changeState("loadError",c)}f.loadFun&&f.loadFun(d,c.$element,c.index),f._setNewTriggerPoint(c)},_getHeight:function(a){return a?a.getBoundingClientRect?a.getBoundingClientRect().height:Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight):(console.warn("SQ.loadmore: 无法计算页面高度"),0)},_spliceApi:function(a){var b,c,d=this,e=-1===a.api.indexOf("?")?"?":"&";if(d.settings.RESTFUL){b=a.api.replace(":page",a.page);for(c in d.settings.RESTFUL)d.settings.RESTFUL.hasOwnProperty(c)&&(b=b.replace(c,d.settings.RESTFUL[c]))}else b=a.api+e+"page="+a.page;return b},_setTopPosition:function(b){b.$stateBar.data("top",a("body").scrollTop())}},a.fn.loadmore=function(d){var e;return d=d||{},d.selector=this.selector,this.length||console.warn("SQ.loadmore: 未找到"+this.selector+"元素"),this.each(function(){e=new b(this,d),a(this).data(c,"initialized")}),this}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-panel",d={EVE_EVENT_TYPE:"click",DISPLAY:"overlay",DIRECTION:"left",CSS_WIDTH:300,CLOSE_BTN:!1,TXT_CLOSE_VAL:"×"};b.prototype={construtor:"Panel",resizeTimer:!1,closed:!0,init:function(){var b=this,c="@-webkit-keyframes showPanel {0% {-webkit-transform: translateX(-"+b.settings.CSS_WIDTH+"px);} 100% {-webkit-transform: translateX(0);}}@-webkit-keyframes hidePanel{0% {-webkit-transform: translateX(0);}100% {-webkit-transform: translateX(-"+b.settings.CSS_WIDTH+"px);}}";"push"===b.settings.DISPLAY&&(c+="@-webkit-keyframes hideWrap {0% {-webkit-transform: translateX(0);}100% {-webkit-transform: translateX("+b.settings.CSS_WIDTH+"px);}}@-webkit-keyframes showWrap {0% {-webkit-transform: translateX("+b.settings.CSS_WIDTH+"px);}100% {-webkit-transform: translateX(0);}}"),b.$win=a(window),b.$doc=a(document),b.$body=a("body"),b.$element=a(b.element),b.$wrapper=a(b.settings.DOM_WRAPPER),b.beforeShowFun=b.settings.beforeShow,b.showFun=b.settings.show,b.closeFun=b.settings.close,b.resizeFun=b.settings.resize,b._verify()&&(b._bind(),b.$body.append("<style>"+c+"</style>"))},_verify:function(){var a=this;return 0===a.$element.length||0===a.$wrapper.length?(console.warn("SQ.panel: 缺少 Dom 元素"),!1):!0},_bind:function(){var a=this;a.$doc.on(a.settings.EVE_EVENT_TYPE+".sq.panel",a.settings.selector,function(b){b.preventDefault(),a.show(b)})},_createPanel:function(){var b=this,c=a("<div class='sq-panel'></div>"),d=a("<div class='content'></div>"),e=a("<div class='close-btn'>"+b.settings.TXT_CLOSE_VAL+"</div>");return("left"===b.settings.DIRECTION||"right"===b.settings.DIRECTION)&&c.css({position:"absolute",display:"none",top:0,bottom:0,width:b.settings.CSS_WIDTH,"z-index":1e3}),b.settings.CSS_CLASS&&c.addClass(0===b.settings.CSS_CLASS.indexOf(".")?b.settings.CSS_CLASS.slice(1):b.settings.CSS_CLASS),c.append(d),b.settings.CLOSE_BTN&&c.append(e),c.appendTo(b.$body),b.$panel=c,b.$panelContent=d,b.$close=e,c},_setPanelEvent:function(){var a=this;"android"===SQ.ua.os.name&&"ucweb"===SQ.ua.browser.shell&&SQ.ua.browser.version>=9&&SQ.ua.browser.version<9.7?a.$panel.on("touchstart",function(a){a.preventDefault()}):a.$panel.on("touchmove",function(a){a.preventDefault()}),a.$panel.on("mousewheel",function(a){a.preventDefault()}),a.$close.on("click",function(){a.close()}),a.$win.resize(function(){a.resize()})},_beforeShow:function(a){var b=this;return b.$panel?!0:(b.$panel=b._createPanel(),b._setPanelEvent(),b.beforeShowFun?b.beforeShowFun(a):!0)},show:function(a){var b=this;if(b.closed){if(!b._beforeShow(a))return void console.warn("SQ.Panel: _beforeShow 回调函数返回 false");b.mask(),b.$panel.removeClass("sq-hidePanel").addClass("animated sq-showPanel fast"),b.$wrapper.removeClass("sq-showWrap").addClass("animated sq-hideWrap fast"),b.closed=!1,b.showFun&&b.showFun(b.$panel),b.$panel.show()}},mask:function(){var b=this,c=b.$body.height(),d=b.$win.height(),e=c>d?c:d;if(b.$mask)b.$mask.css({width:"100%",height:e}),b.$mask.show();else{var f=a("<div class='mask'></div>");f.css({position:"absolute",top:0,left:0,right:0,width:"100%",height:e,"z-index":999}).appendTo(b.$body),f.on("touchstart",function(a){a.preventDefault(),("ucweb"!==SQ.ua.browser.shell||SQ.ua.browser.version>=9.7)&&b.close()}),f.on("click",function(a){a.preventDefault(),b.close()}),f.on("mousewheel",function(a){a.preventDefault()}),b.$mask=f}},close:function(a){var b=this;b.$panel.removeClass("sq-showPanel").addClass("sq-hidePanel"),b.$wrapper.removeClass("sq-hideWrap").addClass("sq-showWrap"),b.$mask.hide(),b.closed=!0,b.closeFun&&!a&&b.closeFun()},resize:function(){},destroy:function(){var a=this;a.$panel.remove(),a.$panelContent.empty(),a.$panel=null}},a.fn.panel=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1;return d=d||{},d.selector=this.selector,this.length||console.warn("SQ.panel: 未找到"+this.selector+"元素"),this.each(function(){g?a.data(this,c)||a.data(this,c,new b(this,d)):f&&(a(this).data(c)||(e=new b(this,d),a(this).data(c,"initialized")))}),this}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-popup",d={EVE_EVENT_TYPE:"click",CSS_POSITION:"fixed",TXT_CLOSE_VAL:"×",TXT_OK_VAL:"确定",TXT_CANCEL_VAL:"取消",PREVENT_DEFAULT:!0,LOCK:!1,MASK:!0,CSS_MASK_BACKGROUND:"#000000",CSS_MASK_OPACITY:.5,CLOSE_BTN:!0};b.prototype={construtor:"Popup",timer:void 0,resizeTimer:!1,closed:!0,init:function(){var b=this;b.$win=a(window),b.$doc=a(document),b.$body=a("body"),b.beforeShowFun=b.settings.beforeShow,b.showFun=b.settings.show,b.closeFun=b.settings.close,b.okFun=b.settings.ok,b.cancelFun=b.settings.cancel,b.resizeFun=b.settings.resize,b._bind()},_bind:function(){var a=this,b=a.settings.DISPOSABLE?".sq.popup.once":".sq.popup";a.$doc.on(a.settings.EVE_EVENT_TYPE+b,a.settings.selector,function(c){a.settings.PREVENT_DEFAULT&&c.preventDefault(),a.settings.DISPOSABLE&&a.$doc.off(a.settings.EVE_EVENT_TYPE+b),a._trigger(c)})},_trigger:function(a){var b=this;return b.settings.DELAY?void setTimeout(function(){b.show(a)},b.settings.DELAY):void b.show(a)},_createPopup:function(){var b=this;if(b.$popupPanel)return b.$popupPanel;var c=a("<div class='sq-popup'></div>"),d=a("<div class='content'></div>"),e=a("<div class='close-btn'>"+b.settings.TXT_CLOSE_VAL+"</div>"),f=a("<div class='ok'>"+b.settings.TXT_OK_VAL+"</div>"),g=a("<div class='cancel'>"+b.settings.TXT_CANCEL_VAL+"</div>");if(c.css({position:b.settings.CSS_POSITION,width:b.settings.CSS_WIDTH,height:b.settings.CSS_HEIGHT,"z-index":1e3}),b.settings.CSS_CLASS){var h,i=b.settings.CSS_CLASS.split(" "),j=i.length;for(h=0;j>h;h++){var k=i[h];c.addClass(0===k.indexOf(".")?k.slice(1):k)}}return c.append(d),b.settings.CLOSE_BTN&&c.append(e),b.settings.OK_BTN&&c.append(f),b.settings.CANCEL_BTN&&c.append(g),c.appendTo(b.$body),b.$popupPanel=c,b.$popupContent=d,b.$okBtn=f,b.$cancelBtn=g,b.$close=e,c},_setPopupPos:function(){var a,b=this,c="chrome",d=b.settings.ANIMATE,e="middle"===b.settings.VERTICAL?!0:!1,f="center"===b.settings.HORIZONTAL?!0:!1,g="ucweb"===SQ.ua.browser.shell&&SQ.ua.browser.version>=9||-1!==c.indexOf(SQ.ua.browser.shell);if("fixed"===b.settings.CSS_POSITION)a="50%";else if("absolute"===b.settings.CSS_POSITION){var h=window.innerHeight||b.$win.height();a=b.$body.scrollTop()+h/2}if(b.settings.CSS_TOP||b.settings.CSS_LEFT||b.settings.CSS_BOTTOM||b.settings.CSS_RIGHT||(b.settings.CSS_TOP=0,b.settings.CSS_LEFT=0),b.settings.CSS_TOP&&b.settings.CSS_LEFT&&b.settings.CSS_BOTTOM&&b.settings.CSS_RIGHT)return void b.$popupPanel.css({top:b.settings.CSS_TOP,left:b.settings.CSS_LEFT,bottom:b.settings.CSS_BOTTOM,right:b.settings.CSS_RIGHT});if(g&&!d)b.$popupPanel.css(e&&f?{top:a,left:"50%","-webkit-transform":"translate(-50%, -50%)"}:e?{top:a,left:b.settings.CSS_LEFT||0,"-webkit-transform":"translateY(-50%)"}:f?{top:b.settings.CSS_TOP||0,left:"50%","-webkit-transform":"translateX(-50%)"}:{top:b.settings.CSS_TOP,left:b.settings.CSS_LEFT,bottom:b.settings.CSS_BOTTOM,right:b.settings.CSS_RIGHT});else{var i=b.settings.CSS_HEIGHT?b.settings.CSS_HEIGHT/2*-1:b.$popupPanel.height()/2*-1,j=b.settings.CSS_WIDTH?b.settings.CSS_WIDTH/2*-1:b.$popupPanel.width()/2*-1;b.$popupPanel.css(e&&f?{top:a,left:"50%","margin-top":i,"margin-left":j}:e?{top:a,left:b.settings.CSS_LEFT||0,"margin-top":i}:f?{top:b.settings.CSS_TOP||0,left:"50%","margin-left":j}:{top:b.settings.CSS_TOP,left:b.settings.CSS_LEFT,bottom:b.settings.CSS_BOTTOM,right:b.settings.CSS_RIGHT})}},_setPopupEvent:function(){var a=this;a.settings.LOCK&&("android"===SQ.ua.os.name&&"ucweb"===SQ.ua.browser.shell&&SQ.ua.browser.version>=9&&SQ.ua.browser.version<9.7?a.$popupPanel.on("touchstart",function(a){a.preventDefault()}):a.$popupPanel.on("touchmove",function(a){a.preventDefault()}),a.$popupPanel.on("mousewheel",function(a){a.preventDefault()})),a.$okBtn.on("click",function(){a.ok()}),a.$cancelBtn.on("click",function(){a.cancel()}),a.$close.on("click",function(){a.close()}),a.$win.resize(function(){a.resize()})},_beforeShow:function(a){var b=this;if(b.$popupPanel=b._createPopup(),b._setPopupEvent(),b.settings.ANIMATE){var c=0===b.settings.ANIMATE.indexOf(".")?b.settings.ANIMATE.slice(1):b.settings.ANIMATE;b.$popupPanel.addClass("animated "+c)}return b.beforeShowFun?b.beforeShowFun(a):!0},show:function(a){var b=this;if(b.closed){if(!b._beforeShow(a))return void console.warn("SQ.Popup: _beforeShow function return false");b.closed=!1,b.settings.MASK&&b.mask(),b.showFun&&b.showFun(a),b._setPopupPos(),b.$popupPanel.show(),b.settings.NUM_CLOSE_TIME&&b.time(b.settings.NUM_CLOSE_TIME)}},close:function(a){var b=this;b.timer&&clearTimeout(b.timer),b.$popupPanel.remove(),b.$popupContent.empty(),b.$popupPanel=null,b.settings.MASK&&b.$mask.hide(),b.closed=!0,b.closeFun&&!a&&b.closeFun()},time:function(a){var b=this;b.closed||(b.timer=setTimeout(function(){b.close()},a))},mask:function(){var b=this,c=b.$body.height(),d=b.$win.height(),e=c>d?c:d,f=b.$mask||a(".sq-mask").length>0?a(".sq-mask"):void 0;f?(f.css({width:"100%",height:e}),f.show()):(f=a("<div class='sq-mask'></div>"),f.css({position:"absolute",top:0,left:0,right:0,width:"100%",height:e,background:b.settings.CSS_MASK_BACKGROUND,opacity:b.settings.CSS_MASK_OPACITY,"z-index":999}).appendTo(b.$body),b.settings.LOCK&&(f.on("touchstart",function(a){a.preventDefault()}),f.on("mousewheel",function(a){a.preventDefault()}))),b.$mask=f},ok:function(a){var b=this;b.close("ok"),b.okFun&&b.okFun(a)},cancel:function(a){var b=this;b.close("cancel"),b.cancelFun&&b.cancelFun(a)},resize:function(){var a=this;a.$popupPanel&&a._setPopupPos()}},a.fn.popup=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1,h=this;return d=d||{},d.selector=this.selector,0===a(this.selector).length&&(h=a("<div class='"+this.selector.slice(1)+"' style='display:none'></div>"),h.selector=this.selector,a("body").append(h)),h.each(function(){g?a.data(this,c)||a.data(this,c,new b(h,d)):f&&(h.data(c)||(e=new b(h,d),h.data(c,"initialized")))}),h}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-suggest",d={NUM_TIMER_DELAY:300,NUM_XHR_TIMEER:5e3,NUM_SUCCESS_CODE:200,suggestion:!0};b.prototype={construtor:"Suggest",lastKeyword:"",lastSendKeyword:"",canSendRequest:!0,init:function(){var b=this,c="",d="";b.settings.CSS_CLEAR_BTN&&(c=-1!==b.settings.CSS_CLEAR_BTN.indexOf(".")?b.settings.CSS_CLEAR_BTN.slice(1):b.settings.CSS_CLEAR_BTN),b.settings.CSS_SUGGEST_RESULT&&(d=-1!==b.settings.CSS_SUGGEST_RESULT.indexOf(".")?b.settings.CSS_SUGGEST_RESULT.slice(1):b.settings.CSS_SUGGEST_RESULT),b.$element=a(b.element),b.$input=b.$element.find("input[type=text]"),b.$clearBtn=a('<div class="sq-suggest-clear-btn"></div>').addClass(c),b.$suggestPanel=a('<div class="sq-suggest-result"></div>').addClass(d),b.$input.after(b.$clearBtn),b.$element.append(b.$suggestPanel),b.beforeStartFun=b.settings.beforeStart,b.startFun=b.settings.start,b.clearFun=b.settings.clear,b.showFun=b.settings.show,b._verify()&&b._bind()},_verify:function(){return!0},_bind:function(){var a=this;a.$input.on("focus",function(){a.start()}),a.$input.on("blur",function(){a.stop()}),a.$clearBtn.on("click",function(){a.clear()}),a.beforeStartFun&&a.beforeStartFun()},_filter:function(a){return a.replace(/\s+/g,"").replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"")},_initSuggest:function(){var a=this;a.$suggestPanel.empty()},_requestData:function(b){var c=this,d=c.settings.API;c.xhr&&c.xhr.abort(),c.xhr=a.ajax({type:"POST",url:d,dataType:"json",data:{keyword:b},timeout:c.settings.NUM_XHR_TIMEER,success:function(a){c.showSuggest(a),c.lastSendKeyword=b},error:function(){c.canSendRequest=!1,setTimeout(function(){c.canSendRequest=!0},500)}})},_compare:function(a){var b=this,c=a.length,d=b.lastSendKeyword.length;return b.lastKeyword===a?!1:(d>0&&d>c&&(b.canSendRequest=!0),b.canSendRequest?b.lastSendKeyword===a?!1:!0:!1)},start:function(){var a=this;a.inputListener=setInterval(function(){var b=a.$input.val(),c=a._filter(b);c.length>0?("none"===a.$clearBtn.css("display")&&a.$clearBtn.show(),a._compare(c)&&(a._requestData(c),a.startFun&&a.startFun()),a.lastKeyword=c):(a.lastKeyword=void 0,a.clear())},a.settings.NUM_TIMER_DELAY)},stop:function(){var a=this;clearInterval(a.inputListener)},showSuggest:function(a){var b=this,c="object"==typeof a?a:JSON.parse(a);return c.code!==b.settings.NUM_SUCCESS_CODE?void(b.canSendRequest=!1):(b.canSendRequest=!0,b._initSuggest(),void(b.showFun&&b.showFun(c)))},hideSuggest:function(){var a=this;a.$suggestPanel.hide()},clear:function(){var a=this;a.$input.val(""),a.hideSuggest(),a.$clearBtn.hide(),a.canSendRequest=!0,a.lastSendKeyword="",a.clearFun&&a.clearFun()}},a.fn.suggest=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1;return d=d||{},d.selector=this.selector,this.each(function(){g?a.data(this,c)||a.data(this,c,new b(this,d)):f&&(a(this).data(c)||(e=new b(this,d),a(this).data(c,"initialized")))}),this}}($),function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this._defaults=d,this.init()}var c="sq-tab",d={EVE_EVENT_TYPE:"click",CSS_HIGHLIGHT:".active",CLEAR_PANEL:!1,NUM_ACTIVE:0,NUM_XHR_TIMEER:5e3,TXT_LOADING_TIP:"正在加载请稍后...",LOCAL_DATA:!1,NUM_EXPIRES:15};b.prototype={construtor:"Tab",needLoadContent:!1,init:function(){var b=this;b.settings.CSS_LOADING_TIP&&(b.CSS_LOADING_TIP=0===b.settings.CSS_LOADING_TIP.indexOf(".")?b.settings.CSS_LOADING_TIP.slice(1):b.settings.CSS_LOADING_TIP),b.CSS_HIGHLIGHT=0===b.settings.CSS_HIGHLIGHT.indexOf(".")?b.settings.CSS_HIGHLIGHT.slice(1):b.settings.CSS_HIGHLIGHT,b.$element=a(b.element),b.tabsLen=b.$element.length,b.triggerFun=b.settings.trigger,b.showFun=b.settings.show,b.beforeLoadFun=b.settings.beforeLoad,b.loadFun=b.settings.loaded,b.$element.each(function(){var c=a(this),d=c.find(b.settings.DOM_TABS),e=c.find(b.settings.DOM_PANELS);b._verify(d,e)&&b._init(c,d,e)})},_verify:function(a,b){return a.length?b.length?!0:(console.warn("SQ.tab: 参数 DOM_PANELS 错误，"+this.settings.selector+"下未找到"+this.settings.DOM_PANELS+"元素"),!1):(console.warn("SQ.tab: 参数 DOM_TABS 错误，"+this.settings.selector+"下未找到"+this.settings.DOM_TABS+"元素"),!1)},_init:function(b,c,d){var e=this,f=0;c.each(function(){a(this).attr("data-tabIndex",f),f++}),e.settings.API&&(SQ.isString(e.settings.API)||SQ.isArray(e.settings.API))&&(e.$loadingTip=a("<div class='sq-tabs-loading-tip'></div>"),e.CSS_LOADING_TIP?e.$loadingTip.addClass(e.CSS_LOADING_TIP):e.$loadingTip.css({height:60,"text-align":"center","line-height":"60px"}),e.$loadingTip.text(e.settings.TXT_LOADING_TIP),e.needLoadContent=!0),void 0!==e.settings.NUM_ACTIVE&&e.show(c,d,e.settings.NUM_ACTIVE),c.on(e.settings.EVE_EVENT_TYPE+".sq.tab",function(f){var g=a(this);f.preventDefault(),e._trigger(b,c,d,g)})},_trigger:function(a,b,c,d){var e=this,f=parseInt(d.attr("data-tabIndex"),10),g=d.hasClass(e.CSS_HIGHLIGHT);g||(e.show(b,c,f),e.triggerFun&&e.triggerFun(b,c,f))},_cleanPanel:function(a){a.empty()
},show:function(a,b,c){var d=this,e=a.eq(c),f=b.eq(c);a.removeClass(d.CSS_HIGHLIGHT),b.removeClass(d.CSS_HIGHLIGHT),e.addClass(d.CSS_HIGHLIGHT),f.addClass(d.CSS_HIGHLIGHT),d.showFun&&d.showFun(a,b,c),d.settings.API&&d._load(f,c)},_load:function(b,c){var d=this,e=d.settings.API,f=b.find(".sq-tabs-loading-tip"),g=f.length>0?!0:!1,h=b.hasClass("hasLoaded");if(!h&&(!d.beforeLoadFun||d.beforeLoadFun(b,c))){if(d.settings.CLEAR_PANEL&&d._cleanPanel(b),d.settings.LOCAL_DATA){var i=SQ.store.localStorage.get(e,d.settings.NUM_EXPIRES);if(i=SQ.isString(i)?a.parseJSON(i):i)return b.addClass("hasLoaded"),void(d.loadFun&&d.loadFun(JSON.parse(i),b,c))}SQ.isArray(d.settings.API)&&(e=d.settings.API[c]),e&&0!==e.length&&(d.xhr&&d.xhr.abort(),g?f.show():(b.append(d.$loadingTip),f=b.find(".sq-tabs-loading-tip"),f.show()),d.xhr=a.ajax({type:"POST",url:e,dataType:"json",timeout:d.settings.NUM_XHR_TIMEER,success:function(a){f.hide(),b.addClass("hasLoaded"),d.settings.LOCAL_DATA&&SQ.store.localStorage.set(e,a),d.loadFun&&d.loadFun(a,b,c)},error:function(){d._showReloadTips(b,c)}}))}},_showReloadTips:function(a,b){var c=this,d=a.find(".sq-tabs-loading-tip");d.show().empty();var e="<div class='reload'><p>抱歉，加载失败，请重试</p><div class='sq-btn f-grey J_reload'>重新加载</div></div>";d.append(e),a.find(".J_reload").off("click").on("click",function(){c._load(a,b)})}},a.fn.tab=function(d){var e,f="undefined"!=typeof Zepto?!0:!1,g="undefined"!=typeof jQuery?!0:!1;return d=d||{},d.selector=this.selector,this.length||console.warn("SQ.tab: 未找到"+this.selector+"元素"),this.each(function(){g?a.data(this,c)||a.data(this,c,new b(this,d)):f&&(a(this).data(c)||(e=new b(this,d),a(this).data(c,"initialized")))}),this}}($),function(a,b){function c(a){var b,c=this;c.config={};for(b in a)a.hasOwnProperty(b)&&(c.config[b]=a[b]);if(c.triggerTarget=$(c.config.DOM_TRIGGER_TARGET)[0],_fun.ios()&&parseInt(_fun.version())>=5&&"x"===a.DIRECTION&&a.wit)return void(c.triggerTarget.parentNode.style.cssText+="overflow:scroll; -webkit-overflow-scrolling:touch;");switch(c.config.MODE){case"page":if(a.DIRECTION="x",this.SlipPage){var d=_fun.clone(f);return d._init(c.triggerTarget,a),d}return this.SlipPage=!0,f._init(c.triggerTarget,a),f;case"px":if(this.SlipPx){var e=_fun.clone(g);return e._init(c.triggerTarget,a),e}return this.SlipPx=!0,g._init(c.triggerTarget,a),g}}_fun={ios:function(){var a=navigator.userAgent.match(/.*OS\s([\d_]+)/),b=!!a;return!this._versionValue&&b&&(this._versionValue=a[1].replace(/_/g,".")),this.ios=function(){return b},b},version:function(){return this._versionValue},clone:function(a){function b(){}return b.prototype=a,new b}};var d={_refreshCommon:function(a,b){var c=this;c.wide_high=a||c.core[c.offset]-c.up_range,c.parent_wide_high=b||c.core.parentNode[c.offset],c._getCoreWidthSubtractShellWidth()},_initCommon:function(a,b){var c=this;c.core=a,c.startFun=b.startFun,c.moveFun=b.moveFun,c.touchEndFun=b.touchEndFun,c.endFun=b.endFun,c.DIRECTION=b.DIRECTION,c.up_range=b.up_range||0,c.down_range=b.down_range||0,"x"===c.DIRECTION?(c.offset="offsetWidth",c._pos=c.__posX):(c.offset="offsetHeight",c._pos=c.__posY),c.wide_high=b.wide_high||c.core[c.offset]-c.up_range,c.parent_wide_high=b.parent_wide_high||c.core.parentNode[c.offset],c._getCoreWidthSubtractShellWidth(),c._bind("touchstart"),c._bind("touchmove"),c._bind("touchend"),c._bind("webkitTransitionEnd"),c.xy=0,c.y=0,c._pos(-c.up_range)},_getCoreWidthSubtractShellWidth:function(){var a=this;a.width_cut_coreWidth=a.parent_wide_high-a.wide_high,a.coreWidth_cut_width=a.wide_high-a.parent_wide_high},handleEvent:function(a){switch(a.type){case"touchstart":this._start(a);break;case"touchmove":this._move(a);break;case"touchend":case"touchcancel":this._end(a);break;case"webkitTransitionEnd":this._transitionEnd(a)}},_bind:function(a,b){this.core.addEventListener(a,this,!!b)},_unBind:function(a,b){this.core.removeEventListener(a,this,!!b)},__posX:function(a){this.xy=a,this.core.style.webkitTransform="translate3d("+a+"px, 0px, 0px)"},__posY:function(a){this.xy=a,this.core.style.webkitTransform="translate3d(0px, "+a+"px, 0px)"},_posTime:function(a,b){this.core.style.webkitTransitionDuration=b+"ms",this._pos(a)}},f=_fun.clone(d);f._init=function(a,b){var c=this;c._initCommon(a,b),c.NUM_PAGES=b.NUM_PAGES,c.page=0,c.AUTO_TIMER=b.AUTO_TIMER,c.lastPageFun=b.lastPageFun,c.firstPageFun=b.firstPageFun,b.AUTO_TIMER&&c._autoChange(),b.no_follow?(c._move=c._moveNoMove,c.next_time=500):c.next_time=300},f._start=function(a){var b=this,a=a.touches[0];b._abrupt_x=0,b._abrupt_x_abs=0,b._start_x=b._start_x_clone=a.pageX,b._start_y=a.pageY,b._movestart=void 0,b.AUTO_TIMER&&b._stop(),b.startFun&&b.startFun(a)},f._move=function(a){var b=this;if(b._moveShare(a),!b._movestart){var c=a.touches[0];if(a.preventDefault(),b.offset_x=b.xy>0||b.xy<b.width_cut_coreWidth?b._dis_x/2+b.xy:b._dis_x+b.xy,b._start_x=c.pageX,b._abrupt_x_abs<6)return b._abrupt_x+=b._dis_x,void(b._abrupt_x_abs=Math.abs(b._abrupt_x));b._pos(b.offset_x),b.moveFun&&b.moveFun(c)}},f._moveNoMove=function(a){var b=this;b._moveShare(a),b._movestart||(a.preventDefault(),b.moveFun&&b.moveFun(e))},f._moveShare=function(a){var b=this,c=a.touches[0];b._dis_x=c.pageX-b._start_x,b._dis_y=c.pageY-b._start_y,"undefined"==typeof b._movestart&&(b._movestart=!!(b._movestart||Math.abs(b._dis_x)<Math.abs(b._dis_y)))},f._end=function(a){if(!this._movestart){var b=this;b._end_x=a.changedTouches[0].pageX,b._range=b._end_x-b._start_x_clone,b._range>35?0!=b.page?b.page-=1:b.firstPageFun&&b.firstPageFun(a):Math.abs(b._range)>35&&(b.page!=b.NUM_PAGES-1?b.page+=1:b.lastPageFun&&b.lastPageFun(a)),b.toPage(b.page,b.next_time),b.touchEndFun&&b.touchEndFun(a)}},f._transitionEnd=function(a){var b=this;a.stopPropagation(),b.core.style.webkitTransitionDuration="0",b._stop_ing&&b._autoChange(),b._stop_ing=!1,b.endFun&&b.endFun()},f.toPage=function(a,b){this._posTime(-this.parent_wide_high*a,b||0),this.page=a},f._stop=function(){clearInterval(this._autoChangeSet),this._stop_ing=!0},f._autoChange=function(){var a=this;a._autoChangeSet=setInterval(function(){a.page!=a.NUM_PAGES-1?a.page+=1:a.page=0,a.toPage(a.page,a.next_time)},a.AUTO_TIMER)},f.refresh=function(a,b){this._refreshCommon(a,b)};var g=_fun.clone(d);g._init=function(a,b){var c=this;c._initCommon(a,b),c.perfect=b.perfect,c.SHOW_SCROLL_BAR=b.SHOW_SCROLL_BAR,"x"==c.DIRECTION?(c.page_x="pageX",c.page_y="pageY",c.width_or_height="width",c._real=c._realX,c._posBar=c.__posBarX):(c.page_x="pageY",c.page_y="pageX",c.width_or_height="height",c._real=c._realY,c._posBar=c.__posBarY),c.perfect?(c._transitionEnd=function(){},c._stop=c._stopPerfect,c._slipBar=c._slipBarPerfect,c._posTime=c._posTimePerfect,c._bar_upRange=c.up_range,c.no_bar=!1,c._slipBarTime=function(){}):(c.no_bar=b.no_bar,c.core.style.webkitTransitionTimingFunction="cubic-bezier(0.33, 0.66, 0.66, 1)"),c.SHOW_SCROLL_BAR&&(c._hideBar=function(){},c._showBar=function(){}),c.radius=_fun.ios()?11:0,c.no_bar?(c._hideBar=function(){},c._showBar=function(){}):(c._insertSlipBar(b),c.coreWidth_cut_width<=0&&(c._bar_shell_opacity=0,c._showBarStorage=c._showBar,c._showBar=function(){}))},g._start=function(a){var b=this,a=a.touches[0];b._animating=!1,b._steps=[],b._abrupt_x=0,b._abrupt_x_abs=0,b._start_x=b._start_x_clone=a[b.page_x],b._start_y=a[b.page_y],b._start_time=a.timeStamp||Date.now(),b._movestart=void 0,!b.perfect&&b._need_stop&&b._stop(),b.core.style.webkitTransitionDuration="0",b.startFun&&b.startFun(a)},g._move=function(a){var b=this,c=a.touches[0],d=c[b.page_x],e=c[b.page_y],f=b.xy;if(b._dis_x=d-b._start_x,b._dis_y=e-b._start_y,"x"==b.DIRECTION&&"undefined"==typeof b._movestart&&(b._movestart=!!(b._movestart||Math.abs(b._dis_x)<Math.abs(b._dis_y))),!b._movestart){if(a.preventDefault(),b._move_time=c.timeStamp||Date.now(),b.offset_x=f>0||f<b.width_cut_coreWidth-b.up_range?b._dis_x/2+f:b._dis_x+f,b._start_x=d,b._start_y=e,b._showBar(),b._abrupt_x_abs<6)return b._abrupt_x+=b._dis_x,void(b._abrupt_x_abs=Math.abs(b._abrupt_x));b._pos(b.offset_x),b.no_bar||b._slipBar(),b._move_time-b._start_time>300&&(b._start_time=b._move_time,b._start_x_clone=d),b.moveFun&&b.moveFun(c)}},g._end=function(a){if(!this._movestart){var b=this,a=a.changedTouches[0],c=(a.timeStamp||Date.now())-b._start_time,d=a[b.page_x]-b._start_x_clone;if(b._need_stop=!0,300>c&&Math.abs(d)>10)if(b.xy>-b.up_range||b.xy<b.width_cut_coreWidth)b._rebound();else{var e=b._momentum(d,c,-b.xy-b.up_range,b.coreWidth_cut_width+b.xy,b.parent_wide_high);b._posTime(b.xy+e.dist,e.time),b.no_bar||b._slipBarTime(e.time)}else b._rebound();b.touchEndFun&&b.touchEndFun(a)}},g._transitionEnd=function(a){var b=this;a.target==b.core&&(b._rebound(),b._need_stop=!1)},g._rebound=function(a){var b=this,c=b.coreWidth_cut_width<=0?0:b.xy>=-b.up_range?-b.up_range:b.xy<=b.width_cut_coreWidth-b.up_range?b.width_cut_coreWidth-b.up_range:b.xy;return c==b.xy?(b.endFun&&b.endFun(),void b._hideBar()):(b._posTime(c,a||400),void(b.no_bar||b._slipBarTime(a)))},g._insertSlipBar=function(a){var c=this;if(c._bar=b.createElement("div"),c._bar_shell=b.createElement("div"),"x"==c.DIRECTION)var d="height: 5px; position: absolute;z-index: 10; pointer-events: none;",e="opacity: "+c._bar_shell_opacity+"; left:2px; bottom: 2px; right: 2px; height: 5px; position: absolute; z-index: 10; pointer-events: none;";else var d="width: 5px; position: absolute;z-index: 10; pointer-events: none;",e="opacity: "+c._bar_shell_opacity+"; top:2px; bottom: 2px; right: 2px; width: 5px; position: absolute; z-index: 10; pointer-events: none; ";var f=" background-color: rgba(0, 0, 0, 0.5); border-radius: "+c.radius+"px; -webkit-transition: cubic-bezier(0.33, 0.66, 0.66, 1);",d=d+f+a.bar_css;c._bar.style.cssText=d,c._bar_shell.style.cssText=e,c._countAboutBar(),c._countBarSize(),c._setBarSize(),c._countWidthCutBarSize(),c._bar_shell.appendChild(c._bar),c.core.parentNode.appendChild(c._bar_shell),setTimeout(function(){c._hideBar()},500)},g._posBar=function(){},g.__posBarX=function(a){var b=this;b._bar.style.webkitTransform="translate3d("+a+"px, 0px, 0px)"},g.__posBarY=function(a){var b=this;b._bar.style.webkitTransform="translate3d(0px, "+a+"px, 0px)"},g._slipBar=function(){var a=this,b=a._about_bar*(a.xy+a.up_range);0>=b?b=0:b>=a._width_cut_barSize&&(b=Math.round(a._width_cut_barSize)),a._posBar(b),a._showBar()},g._slipBarPerfect=function(){var a=this,b=a._about_bar*(a.xy+a._bar_upRange);if(a._bar.style[a.width_or_height]=a._bar_size+"px",0>b){var c=a._bar_size+3*b;a._bar.style[a.width_or_height]=Math.round(Math.max(c,5))+"px",b=0}else if(b>=a._width_cut_barSize){var c=a._bar_size-3*(b-a._width_cut_barSize);5>c&&(c=5),a._bar.style[a.width_or_height]=Math.round(c)+"px",b=Math.round(a._width_cut_barSize+a._bar_size-c)}a._posBar(b)},g._slipBarTime=function(a){this._bar.style.webkitTransitionDuration=""+a+"ms",this._slipBar()},g._stop=function(){var a=this,b=a._real();a._pos(b),a.no_bar||(a._bar.style.webkitTransitionDuration="0",a._posBar(a._about_bar*b))},g._stopPerfect=function(){clearTimeout(this._aniTime),this._animating=!1},g._realX=function(){var a=getComputedStyle(this.core,null).webkitTransform.replace(/[^0-9-.,]/g,"").split(",");return 1*a[4]},g._realY=function(){var a=getComputedStyle(this.core,null).webkitTransform.replace(/[^0-9-.,]/g,"").split(",");return 1*a[5]},g._countBarSize=function(){this._bar_size=Math.round(Math.max(this.parent_wide_high*this.parent_wide_high/this.wide_high,5))},g._setBarSize=function(){this._bar.style[this.width_or_height]=this._bar_size+"px"},g._countAboutBar=function(){this._about_bar=(this.parent_wide_high-4-(this.parent_wide_high-4)*this.parent_wide_high/this.wide_high)/this.width_cut_coreWidth},g._countWidthCutBarSize=function(){this._width_cut_barSize=this.parent_wide_high-4-this._bar_size},g.refresh=function(a,b){var c=this;c._refreshCommon(a,b),c.no_bar||(c.coreWidth_cut_width<=0?(c._bar_shell_opacity=0,c._showBar=function(){}):(c._showBar=c._showBarStorage||c._showBar,c._countAboutBar(),c._countBarSize(),c._setBarSize(),c._countWidthCutBarSize())),c._rebound(0)},g._posTimePerfect=function(a,b){var c=this;c._steps.push({x:a,time:b||0}),c._startAni()},g._startAni=function(){var a,b,c,d=this,e=d.xy,f=Date.now();if(!d._animating){if(!d._steps.length)return void d._rebound();a=d._steps.shift(),a.x==e&&(a.time=0),d._animating=!0,c=function(){var g,h=Date.now();return h>=f+a.time?(d._pos(a.x),d._animating=!1,void d._startAni()):(h=(h-f)/a.time-1,b=Math.sqrt(1-h*h),g=(a.x-e)*b+e,d._pos(g),void(d._animating&&(d._slipBar(),d._aniTime=setTimeout(c,1))))},c()}},g._momentum=function(a,b,c,d,e){var f=.001,g=Math.abs(a)/b,h=g*g/(2*f),i=0,j=0;return a>0&&h>c?(j=e/(6/(h/g*f)),c+=j,g=g*c/h,h=c):0>a&&h>d&&(j=e/(6/(h/g*f)),d+=j,g=g*d/h,h=d),h*=0>a?-1:1,i=g/f,{dist:h,time:i}},g._showBar=function(){var a=this;a._bar_shell.style.webkitTransitionDelay="0ms",a._bar_shell.style.webkitTransitionDuration="0ms",a._bar_shell.style.opacity="1"},g._hideBar=function(){var a=this;a._bar_shell.style.opacity="0",a._bar_shell.style.webkitTransitionDelay="300ms",a._bar_shell.style.webkitTransitionDuration="300ms"},SQ.TouchSlip=c}(window,document);